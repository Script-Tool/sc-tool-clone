<!DOCTYPE html>
<html lang="en">
<style>
  /* Soft badges */
  .badge-soft-primary {
    color: #4e73df;
    background-color: rgba(78, 115, 223, 0.1);
  }

  .badge-soft-success {
    color: #1cc88a;
    background-color: rgba(28, 200, 138, 0.1);
  }

  .badge-soft-info {
    color: #36b9cc;
    background-color: rgba(54, 185, 204, 0.1);
  }

  .badge-soft-warning {
    color: #f6c23e;
    background-color: rgba(246, 194, 62, 0.1);
  }

  .badge-soft-danger {
    color: #e74a3b;
    background-color: rgba(231, 74, 59, 0.1);
  }

  .badge-soft-dark {
    color: #5a5c69;
    background-color: rgba(90, 92, 105, 0.1);
  }

  .badge-soft-secondary {
    color: #858796;
    background-color: rgba(133, 135, 150, 0.1);
  }

  /* Table styles */
  .table th {
    font-weight: 600;
    background-color: #f8f9fc;
    border-bottom: 2px solid #e3e6f0;
  }

  .table td {
    border-color: #e3e6f0;
    vertical-align: middle;
  }

  .table-hover tbody tr:hover {
    background-color: #f8f9fc;
  }

  /* Truncate text */
  .text-truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  /* Button hover effects */
  .btn-outline-danger:hover i,
  .btn-outline-info:hover i {
    transform: rotate(180deg);
    transition: transform 0.3s ease;
  }
</style>
<% include ../common/header%>

  <body id="page-top">
    <div class="abstract-bg"></div>
    <div class="grid-pattern"></div>
    <div class="abstract-shape w-96 h-96 top-1 left-1"></div>
    <div class="abstract-shape w-96 h-96 bottom-1 right-1"></div>
    <!-- Page Wrapper -->
    <div id="wrapper">
      <!-- Sidebar -->
      <% include ../common/sidebar.ejs%>
        <!-- End of Sidebar -->

        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column">
          <!-- Main Content -->
          <div id="content" class="">
            <!-- Begin Page Content -->
            <div class="container-fluid">
              <!-- Page Heading and Stats -->

              <div class="premium-stats rounded-xl shadow-sm my-2 p-3">
                <div class="d-flex align-items-center justify-content-between">
                  <!-- Title -->
                  <h1 class="font-weight-bold h3 mb-0 text-gray-800 primary-text">
                    PROFILE
                  </h1>

                  <!-- Platform Stats -->
                  <div class="d-flex gap-4">
                    <div class="badge badge-dark p-2">
                      <span class="font-weight-bold">TIKTOK:</span>
                      <%= countTiktok %>
                    </div>
                    <div class="badge badge-dark p-2">
                      <span class="font-weight-bold">FB:</span>
                      <%= countFB %>
                    </div>
                    <div class="badge badge-dark p-2">
                      <span class="font-weight-bold">Youtube:</span>
                      <%= countYoutube %>
                    </div>
                  </div>

                  <!-- Action Buttons -->
                  <div class="flex flex-wrap gap-2">
                    <% if (role=='super_admin' ) { %>
                      <% if(!flagForResetProfiles) { %>
                        <button type="button" id="active_reset_profiles"
                          class="ultra-button inline-flex items-center px-3 py-1.5 text-sm rounded border border-blue-500/20 bg-blue-500/10 text-blue-400 transition-all hover:bg-blue-500/20">
                          <i class="fas fa-undo fa-sm mr-1"></i>Reset All
                        </button>
                        <% } else { %>
                        <button type="button" id="cancel_active_reset_profiles"
                          class="ultra-button inline-flex items-center px-3 py-1.5 text-sm rounded border border-red-500/20 bg-red-500/10 text-red-400 transition-all hover:bg-red-500/20">
                          <i class="fas fa-times fa-sm mr-1"></i>Cancel Reset
                        </button>
                        <% } %>

                        <button type="button" id="revert_error"
                          class="ultra-button inline-flex items-center px-3 py-1.5 text-sm rounded border border-blue-500/20 bg-blue-500/10 text-blue-400 transition-all hover:bg-blue-500/20">
                          <i class="fas fa-undo fa-sm mr-1"></i>Restore to NEW
                        </button>

                        <button type="button" id="deleteAll"
                          class="ultra-button inline-flex items-center px-3 py-1.5 text-sm rounded border border-red-500/20 bg-red-500/10 text-red-400 transition-all hover:bg-red-500/20">
                          <i class="fas fa-trash fa-sm mr-1"></i>Delete
                        </button>

                        <button id="importProfileBtn" type="button" data-toggle="modal"
                          data-target="#importProfileModal"
                          class="ultra-button inline-flex items-center px-3 py-1.5 text-sm rounded border border-indigo-500/20 bg-indigo-500/10 text-indigo-400 transition-all hover:bg-indigo-500/20">
                          <i class="fas fa-upload fa-sm mr-1"></i>Add Profiles
                        </button>

                        <button id="moveToTrashBtn" type="button"
                          class="ultra-button inline-flex items-center px-3 py-1.5 text-sm rounded border border-blue-500/20 bg-blue-500/10 text-blue-400 transition-all hover:bg-blue-500/20">
                          <i class="fas fa-trash-alt fa-sm mr-1"></i>Move to Trash
                        </button>
                        <button type="button" id="resetBackupCodeBtn"
                        class="ultra-button inline-flex items-center px-3 py-1.5 text-sm rounded border border-blue-500/20 bg-blue-500/10 text-blue-400 transition-all hover:bg-blue-500/20">
                        <i class="fas fa-undo fa-sm mr-1"></i>Reset Backup Codes
                      </button>
                      <button type="button" id="change2faBtn"
                        class="ultra-button inline-flex items-center px-3 py-1.5 text-sm rounded border border-blue-500/20 bg-blue-500/10 text-blue-400 transition-all hover:bg-blue-500/20">
                        <i class="fas fa-undo fa-sm mr-1"></i>Change 2FA
                      </button>
                      <button type="button" id="verifyStudioBtn"
                        class="ultra-button inline-flex items-center px-3 py-1.5 text-sm rounded border border-blue-500/20 bg-blue-500/10 text-blue-400 transition-all hover:bg-blue-500/20">
                        <i class="fas fa-undo fa-sm mr-1"></i>Verify Studio
                      </button>
                      

                        <div class="flex">
                          <button type="button" id="exportBTN"
                            class="ultra-button inline-flex items-center px-3 py-1.5 text-sm rounded-l border border-r-0 border-slate-500/20 bg-slate-500/10 text-slate-400 transition-all hover:bg-slate-500/20">
                            <i class="fas fa-download fa-sm mr-1"></i>Export
                          </button>
                          <button type="button" id="exportBTN2"
                            class="ultra-button inline-flex items-center px-3 py-1.5 text-sm border border-slate-500/20 bg-slate-500/10 text-slate-400 transition-all hover:bg-slate-500/20">
                            <i class="fas fa-download fa-sm mr-1"></i>Export (No Delete)
                          </button>
                          <button
                            type="button"
                            id="exportKeys"
                            class="ultra-button inline-flex items-center px-3 py-1.5 text-sm border border-slate-500/20 bg-slate-500/10 text-slate-400 transition-all hover:bg-slate-500/20"
                          >
                            <i class="fas fa-download fa-sm mr-1"></i>Export Gemini Keys
                          </button> 
                          <button
                            type="button"
                            id="exportYoutubeKeys"
                            class="ultra-button inline-flex items-center px-3 py-1.5 text-sm border border-slate-500/20 bg-slate-500/10 text-slate-400 transition-all hover:bg-slate-500/20"
                          >
                            <i class="fas fa-download fa-sm mr-1"></i>Export Youtube Keys
                          </button>
                          <button
                            type="button"
                            id="exportChannelLinks"
                            class="ultra-button inline-flex items-center px-3 py-1.5 text-sm border border-slate-500/20 bg-slate-500/10 text-slate-400 transition-all hover:bg-slate-500/20"
                          >
                            <i class="fas fa-download fa-sm mr-1"></i>Export Channel Links
                          </button>
                          <button
                            type="button"
                            id="exportEmails"
                            class="ultra-button inline-flex items-center px-3 py-1.5 text-sm rounded-r border border-slate-500/20 bg-slate-500/10 text-slate-400 transition-all hover:bg-slate-500/20"
                          >
                            <i class="fas fa-download fa-sm mr-1"></i>Export Emails
                          </button>
                        </div>
                        <% } %>
                  </div>
                </div>
              </div>

              <!-- Status Cards -->
              <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 py-4">
                <!-- New -->
                <div class="status-card">
                  <div class="premium-stats rounded-xl border-l-4 border-l-blue-500 shadow-sm h-100 relative overflow-hidden">
                    <div class="card-body p-3">
                      <div class="flex flex-col">
                        <div class="text-xs font-weight-bold text-blue-500 text-uppercase mb-1">
                          New
                        </div>
                        <span class="h5 mb-0 font-weight-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-indigo-600">
                          <%=info.new_profiles%>
                        </span>
                      </div>
                    </div>
                    <!-- Shine effect element -->
                    <div class="shine-effect"></div>
                  </div>
                </div>

                <!-- Synced & Syncing -->
                <div class="status-card">
                  <div class="premium-stats rounded-xl border-l-4 border-l-green-500 shadow-sm h-100 relative overflow-hidden">
                    <div class="card-body p-3">
                      <div class="flex flex-col">
                        <div class="text-xs font-weight-bold text-green-500 text-uppercase mb-1">
                          Synced & Syncing
                        </div>
                        <span class="h5 mb-0 font-weight-bold text-transparent bg-clip-text bg-gradient-to-r from-green-500 to-teal-600">
                          <%=info.active%>
                        </span>
                      </div>
                    </div>
                    <!-- Shine effect element -->
                    <div class="shine-effect"></div>
                  </div>
                </div>

                <!-- Error -->
                <div class="status-card">
                  <div class="premium-stats rounded-xl border-l-4 border-l-red-500 shadow-sm h-100 relative overflow-hidden">
                    <div class="card-body p-3">
                      <div class="flex flex-col">
                        <div class="text-xs font-weight-bold text-red-500 text-uppercase mb-1">
                          Error
                        </div>
                        <span class="h5 mb-0 font-weight-bold text-transparent bg-clip-text bg-gradient-to-r from-red-500 to-pink-600">
                          <%=info.error%>
                        </span>
                      </div>
                    </div>
                    <!-- Shine effect element -->
                    <div class="shine-effect"></div>
                  </div>
                </div>

                <!-- Suspend -->
                <div class="status-card">
                  <div class="premium-stats rounded-xl border-l-4 border-l-yellow-500 shadow-sm h-100 relative overflow-hidden">
                    <div class="card-body p-3">
                      <div class="flex justify-between items-center">
                        <div class="flex flex-col">
                          <div class="text-xs font-weight-bold text-yellow-500 text-uppercase mb-1">
                            Suspend
                          </div>
                          <span class="h5 mb-0 font-weight-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-500 to-amber-600">
                            <%=info.suspend%>
                          </span>
                        </div>
                        <div class="form-check">
                          <input type="checkbox" class="form-check-input" id="renew_for_suspend"
                            <%=renew_for_suspend?"checked":""%>>
                          <label class="form-check-label small">Trả về NEW</label>
                        </div>
                      </div>
                    </div>
                    <!-- Shine effect element -->
                    <div class="shine-effect"></div>
                  </div>
                </div>

                <!-- Reset -->
                <div class="status-card">
                  <div class="premium-stats rounded-xl border-l-4 border-l-gray-500 shadow-sm h-100 relative overflow-hidden">
                    <div class="card-body p-3">
                      <div class="flex flex-col">
                        <div class="text-xs font-weight-bold text-gray-500 text-uppercase mb-1">
                          Reset
                        </div>
                        <span class="h5 mb-0 font-weight-bold text-transparent bg-clip-text bg-gradient-to-r from-gray-500 to-slate-600">
                          <%=info.reset%>
                        </span>
                      </div>
                    </div>
                    <!-- Shine effect element -->
                    <div class="shine-effect"></div>
                  </div>
                </div>

                <!-- Trash -->
                <div class="status-card">
                  <div class="premium-stats rounded-xl border-l-4 border-l-gray-500 shadow-sm h-100 relative overflow-hidden">
                    <div class="card-body p-3">
                      <div class="flex flex-col">
                        <div class="text-xs font-weight-bold text-gray-500 text-uppercase mb-1">
                          Trash
                        </div>
                        <span class="h5 mb-0 font-weight-bold text-transparent bg-clip-text bg-gradient-to-r from-gray-500 to-slate-600">
                          <%=info.trash%>
                        </span>
                      </div>
                    </div>
                    <!-- Shine effect element -->
                    <div class="shine-effect"></div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Menu search -->
            <div class="shadow-sm mb-2 mx-4 p-2">
              <div class="d-flex align-items-end flex-wrap justify-content-between w-100">
                <div class="d-flex align-items-end flex-1">
                  <!-- Status Dropdown -->
                  <div class="form-group mb-0 mr-3">
                    <label class="small font-weight-bold">Status</label>
                    <select class="form-control form-control-sm ultra-input" style="width: 120px" id="profile-status">
                      <option value="">All</option>
                      <option value="ERROR">ERROR</option>
                      <option value="SYNCED">SYNCED</option>
                      <option value="SYNCING">SYNCING</option>
                      <option value="NEW">NEW</option>
                      <option value="SUSPEND">SUSPEND</option>
                      <option value="RESET">RESET</option>
                      <option value="TRASH">TRASH</option>
                    </select>
                  </div>

                  <!-- Type Dropdown -->
                  <div class="form-group mb-0 mr-3">
                    <label class="small font-weight-bold">Type</label>
                    <select class="form-control form-control-sm ultra-input" style="width: 120px" id="profile-type">
                      <option value="">All</option>
                      <option value="tiktok">TIKTOK</option>
                      <option value="facebook">FACEBOOK</option>
                      <option value="youtube">YOUTUBE</option>
                      <option value="CHATGPT">CHATGPT</option>
                    </select>
                  </div>

                  <!-- Description Input -->
                  <div class="form-group mb-0 mr-3" style="min-width: 150px">
                    <label class="small font-weight-bold">Description</label>
                    <input type="text" class="form-control form-control-sm ultra-input" id="status-description"
                      placeholder="Status description" />
                  </div>

                  <!-- Created Users Range -->
                  <div class="form-group mb-0 mr-3" style="min-width: 100px">
                    <label class="small font-weight-bold">Created Users > </label>
                    <input type="number" class="form-control form-control-sm ultra-input" id="total-created-users" />
                  </div>

                  <div class="form-group mb-0 mr-3" style="min-width: 100px">
                    <label class="small font-weight-bold">Created Users < </label>
                        <input type="number" class="form-control form-control-sm ultra-input"
                          id="total-created-users-max" />
                  </div>

                  <!-- Email Input -->
                  <div class="form-group mb-0 mr-3">
                    <label class="small font-weight-bold">Email</label>
                    <input type="text" class="form-control form-control-sm ultra-input" id="email" placeholder="Email"
                      style="width: 150px" />
                  </div>
                  
                  <!-- Verified Dropdown -->
                  <div class="form-group mb-0 mr-3">
                    <label class="small font-weight-bold">Verified</label>
                    <select class="form-control form-control-sm ultra-input" style="width: 120px" id="verified" value="">
                      <option value="">All</option>
                      <option value="verified">Verified</option>
                      <option value="unverified">Unverified</option>
                    </select>
                  </div>

                    <!-- Verified studio Dropdown -->
                    <div class="form-group mb-0 mr-3">
                      <label class="small font-weight-bold">Verified Studio</label>
                      <select class="form-control form-control-sm ultra-input" style="width: 120px" id="verified_studio" value="">
                        <option value="">All</option>
                        <option value="verified">Verified</option>
                        <option value="unverified">Unverified</option>
                        <option value="no_verification_needed">No verification needed</option>
                        
                      </select>
                    </div>

                  <!-- 2FA Dropdown -->
                  <div class="form-group mb-0 mr-3">
                    <label class="small font-weight-bold">2FA</label>
                    <select class="form-control form-control-sm ultra-input" style="width: 120px" id="2fa" value="">
                      <option value="">All</option>
                      <option value="2fa">2FA</option>
                      <option value="no2fa">No 2FA</option>
                    </select>
                  </div>

                <!-- Backup Code Dropdown -->
                  <div class="form-group mb-0 mr-3">
                    <label for="backup_code" class="small font-weight-bold">
                      Backup Code
                    </label>
                    <select class="form-control form-control-sm ultra-input" style="width: 130px"    id="backup_code" value="">
                      <option value="">All</option>
                      <option value="backup_code">Has Backup Code</option>
                      <option value="no_backup_code">No Backup Code</option>
                    </select>
                  </div>

                  <!-- Elevenlabs Dropdown -->
                  <div class="form-group mb-0 mr-3">
                    <label class="small font-weight-bold">Elevenlabs</label>
                    <select class="form-control form-control-sm ultra-input" style="width: 120px" id="elevenlabs_key" value="">
                      <option value="">All</option>
                      <option value="elevenlabs_key">Has elevenlabs key</option>
                      <option value="no_elevenlabs_key">No elevenlabs key</option>
                    </select>
                  </div>

                  <!-- Last Update Input -->
                  <div class="form-group mb-0 mr-3">
                    <label class="small font-weight-bold">Last Update (Minutes)</label>
                    <input type="number" class="form-control form-control-sm ultra-input" id="last-update"
                      style="width: 120px" />
                  </div>
                </div>

                <div class="d-flex align-items-end ml-3 gap-3">
                  <!-- Search Button & Count -->
                  <div class="flex items-center gap-3">
                    <span class="text-gray-600 text-sm font-medium">
                      <%= count %> records
                    </span>
                    <button id="searchBtn" class="ultra-button h-9 px-4 rounded-lg flex items-center gap-2">
                      <span>🔍</span>
                      <span class="text-sm font-medium">Search</span>
                    </button>
                  </div>

                  <!-- Pagination -->
                  <div class="ultra-pagination ml-auto">
                    <button id="pre_page" class="ultra-pagination-item">◀</button>
                    <span class="ultra-pagination-item">
                      <%= current_page %>
                    </span>
                    <button id="next_page" class="ultra-pagination-item">
                      ▶
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <div
              class="relative overflow-hidden rounded-lg border border-slate-200/10 bg-slate-800/40 shadow-md backdrop-blur-xl mx-4">
              <div class="overflow-x-auto">
                <table class="w-full table-auto badge-soft-dark" id="playlistTable">
                  <thead class="bg-slate-900/50">
                    <tr>
                      <th class="w-[70px] px-4 py-3 text-center text-sm font-medium text-white">ID</th>
                      <th class="px-4 py-3 text-left text-sm font-medium text-white">Email</th>
                      <th class="px-4 py-3 text-left text-sm font-medium text-white">Password</th>
                      <th class="px-4 py-3 text-left text-sm font-medium text-white">Proxy</th>
                      <th class="px-4 py-3 text-left text-sm font-medium text-white">Recovery Mail</th>
                      <th class="px-4 py-3 text-left text-sm font-medium text-white">2FA & Link Kênh</th>
                      <th class="px-4 py-3 text-left text-sm font-medium text-white">Backup code</th>
                      <th class="px-4 py-3 text-left text-sm font-medium text-white">Elevenlabs key</th>
                      <th class="w-[100px] px-4 py-3 text-center text-sm font-medium text-white">Type</th>
                      <th class="w-[100px] px-4 py-3 text-center text-sm font-medium text-white">Usage Status</th>
                      <th class="w-[100px] px-4 py-3 text-center text-sm font-medium text-white">Status</th>
                      <th class="px-4 py-3 text-left text-sm font-medium text-white">Description</th>
                      <th class="w-[100px] px-4 py-3 text-center text-sm font-medium text-white">Logout</th>
                      <th class="w-[100px] px-4 py-3 text-center text-sm font-medium text-white">Channels</th>
                      <th class="w-[80px] px-4 py-3 text-center text-sm font-medium text-white">Action</th>
                    </tr>
                  </thead>
                  <tbody class=" divide-slate-100/10">

                    <% profiles.forEach(function(profile) { %>
                      <tr class="transition-all hover:bg-slate-700/30">
                        <td class="px-4 py-3 text-center">
                          <span class="font-medium text-white">
                            <%=profile.id%>
                          </span>
                        </td>

                        <td class="px-4 py-3">
                          <% if (role==='super_admin' ) { %>
                            <div class="flex items-center space-x-2">
                              <div class="max-w-[250px] truncate text-white">
                                <%= profile.email %>
                                <% if (profile.verified) { %>
                                  <i class="fas fa-check-circle text-green-500"></i>
                                <% }%>
                                <% if (profile.verified_studio !== 0) { %>
                                  <i class="fas fa-check text-green-500"></i>
                                <% }%>
                              </div>

                              <a href="/admin/view/profile/<%= encodeURIComponent(profile.email) %>"
                                class="inline-flex h-6 w-6 items-center justify-center rounded border border-blue-500/20 bg-blue-500/10 text-blue-400 transition-colors hover:bg-blue-500/20"
                                title="View Profile Detail" data-toggle="tooltip">
                                <i class="fas fa-edit fa-sm"></i>
                              </a>
                              <button onclick="copyToClipboard('<%= profile.email %>')"
                                class="inline-flex h-6 w-6 items-center text-white justify-center rounded border border-slate-500/20 bg-slate-500/10 text-slate-400 transition-colors hover:bg-slate-500/20">
                                <i class="fas fa-copy fa-sm"></i>
                              </button>
                            </div>
                            <% } %>
                        </td>

                        <td class="px-4 py-3">
                          <% if (role==='super_admin' ) { %>
                            <button onclick="copyToClipboard('<%= profile.password %>')"
                              class="inline-flex h-6 w-6 items-center text-white justify-center rounded border border-slate-500/20 bg-slate-500/10 text-slate-400 transition-colors hover:bg-slate-500/20">
                              <i class="fas fa-copy fa-sm"></i>
                            </button>
                            <% } %>
                        </td>

                        <td class="px-4 py-3">
                          <% if (role==='super_admin' && profile.proxy_server) { %>

                            <button onclick="copyToClipboard('<%= profile.proxy_server %>')"
                              class="inline-flex h-6 w-6 items-center 
                              text-white justify-center rounded border border-slate-500/20 bg-slate-500/10 text-slate-400 transition-colors hover:bg-slate-500/20">
                              <i class="fas fa-copy fa-sm"></i>
                            </button>
                            <% } %>
                        </td>

                        <td class="px-4 py-3">
                          <% if (role==='super_admin' && profile.recover_mail) { %>
                            <button onclick="copyToClipboard('<%= profile.recover_mail %>')"
                              class="inline-flex h-6 w-6 items-center justify-center text-white rounded border border-slate-500/20 bg-slate-500/10 text-slate-400 transition-colors hover:bg-slate-500/20">
                              <i class="fas fa-copy fa-sm"></i>
                            </button>
                            <% } %>
                        </td>
                        <td class="px-4 py-3">
                          <% if(profile.twoFA) { %>
                          <button onclick="copyToClipboard('<%= profile.twoFA %>')"
                            class="">
                            2FA
                            <i class="fas fa-copy fa-sm"></i>
                          </button>
                          <% } %>
                          <% if(profile.channel_link) { %>
                          <button onclick="copyToClipboard('<%= profile.channel_link %>')"
                            class="">
                            Link_kênh
                            <i class="fas fa-copy fa-sm"></i>
                          </button>
                          <% } %>
                        </td>
                        <td class="px-4 py-3">
                          <% if(profile.backup_code) { %>
                            <button onclick="copyToClipboard(`<%= profile?.backup_code?.split('|')?.join(', ') %>`)"
                              class="inline-flex h-6 w-6 items-center text-white justify-center rounded border border-slate-500/20 bg-slate-500/10 text-slate-400 transition-colors hover:bg-slate-500/20">
                              <i class="fas fa-copy fa-sm"></i>
                            </button>
                            <span><%= profile?.backup_code?.split('|').length %></span>
                            <% } %>
                        </td>  
                        <td class="px-4 py-3">
                          <% if(profile.elevenlabs_key) { %>
                            <button onclick="copyToClipboard(`<%= profile?.elevenlabs_key %>`)"
                              class="inline-flex h-6 w-6 items-center text-white justify-center rounded border border-slate-500/20 bg-slate-500/10 text-slate-400 transition-colors hover:bg-slate-500/20">
                              <i class="fas fa-copy fa-sm"></i>
                            </button>
                            <% } %>
                        </td>

                        <td class="px-4 py-3 text-center">
                          <span class="inline-flex bg-blue-500/10 px-2 py-1 text-xs text-blue-400">
                            <%= profile.type %>
                          </span>
                        </td>

                        <td class="px-4 py-3 text-center text-white">
                          <span class="inline-flex px-2 py-1 text-xs">
                            <%= profile.usage_status %>
                          </span>
                        </td>

                        <td class="px-4 py-3 text-center text-white">
                          <% const statusClasses={ 
                            'NEW' : 'border-emerald-500/20 bg-emerald-100/10 text-emerald-400', 
                            'ERROR' : 'border-red-500/20 bg-red-100/10 text-red-400' , 
                            'SYNCED' : 'border-blue-500/20 bg-blue-100/10 text-blue-400' , 
                            'SYNCING' : 'border-yellow-500/20 bg-yellow-100/10 text-yellow-400' , 
                            'SUSPEND' : 'border-gray-500/20 bg-gray-100/10 text-gray-400' , 
                            'RESET': 'border-gray-500/20 bg-gray-100/10 text-gray-400' , 
                            'TRASH': 'border-gray-500/20 bg-gray-100/10 text-gray-400' 
                          }[profile.status] || 'border-gray-500/20 bg-gray-100/10 text-gray-400' ; %>
                            <span class="inline-flex rounded border px-2 py-1 text-xs <%= statusClasses %>">
                              <%= profile.status %>
                            </span>
                        </td>

                        <td class="px-4 py-3">
                          <div class="flex flex-col">
                            <span class="text-sm text-white">
                              <%= profile.description %>
                            </span>
                            <% if(profile.is_disabled) { %>
                              <span
                                class="mt-1 inline-flex w-fit rounded border border-yellow-500/20 bg-yellow-500/10 px-2 py-0.5 text-xs text-yellow-400">
                                Not Ready
                              </span>
                              <% } %>
                         

                         
                          </div>
                        </td>

                        <td class="px-4 py-3 text-center">
                          <% if (profile.logout_time) { %>
                            <span
                              class="inline-flex rounded border border-blue-500/20 bg-blue-500/10 px-2 py-1 text-xs text-blue-400">
                              <%= profile.logout_time %>h
                            </span>
                            <% } %>
                        </td>

                        <td class="px-4 py-3 text-center">
                          <span
                            class="inline-flex text-white rounded border border-slate-500/20 bg-slate-500/10 px-2 py-1 text-xs text-slate-400">
                            <%= profile.total_created_users %>
                          </span>
                        </td>

                        <td class="px-4 py-3 text-center">
                          <button
                            class="inline-flex h-7 items-center justify-center rounded border border-red-500/20 bg-red-500/10 px-3 text-red-400 transition-colors hover:bg-red-500/20 resetProfileBtn"
                            data-profile-id="<%=profile.id%>">
                            <i class="fas fa-undo fa-sm"></i>
                          </button>
                        </td>
                      </tr>
                      <% }); %>
                  </tbody>
                </table>
              </div>
            </div>

            <div id="importProfileModal" class="modal fade bd-example-modal-xl" tabindex="-1" role="dialog"
              aria-hidden="true">
              <div class="modal-dialog modal-xl" role="document">
                <div class="modal-content bg-glass">
                  <div class="modal-header">
                    <a href="/oam/download?file=profile_template.csv" class="text-gray-400">Profile template (email,
                      pass, recovery_email)</a>
                    <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    <form id="profileImportForm">
                      <div class="form-group">
                        <label for="exampleFormControlFile1" class="text-gray-400">Profiles file</label>
                        <input type="file" class="form-control-file" id="profileFile" name="profileFile"
                          accept=".csv" />
                      </div>
                      <div class="form-group">
                        <label for="exampleFormControlFile1" class="text-gray-400">Type</label>
                        <select class="form-control" id="profile-import-type">
                          <option value="">All</option>
                          <option value="TIKTOK">TIKTOK</option>
                          <option value="FACEBOOK">FACEBOOK</option>
                          <option value="YOUTUBE">YOUTUBE</option>
                          <option value="CHATGPT">CHATGPT</option>
                        </select>
                      </div>
                    </form>
                    <table id="previewTable" class="table table-bordered"></table>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">
                      Close
                    </button>
                    <button type="button" class="btn btn-primary" id="saveBtn">
                      Import
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- End of Main Content -->

          <% include ../common/footer%>
        </div>
        <!-- End of Content Wrapper -->
    </div>
    <!-- End of Page Wrapper -->
    </div>

    <% include ../common/js%>
      <script src="/js/bootbox.all.min.js"></script>
      <script src="https://unpkg.com/papaparse@latest/papaparse.min.js"></script>
      <script src="/javascripts/profile.js"></script>
      <script src="/javascripts/utils.js"></script>

      <script>
        function copyToClipboard(text) {
          // Tạo một input tạm thời
          const tempInput = document.createElement("input");
          tempInput.value = text;
          document.body.appendChild(tempInput);

          // Select text
          tempInput.select();
          tempInput.setSelectionRange(0, 99999); /* For mobile devices */

          // Copy
          document.execCommand("copy");

          // Xóa input tạm thời
          document.body.removeChild(tempInput);

          // Có thể thêm alert nếu muốn
          // alert('Copied: ' + text);
        }
      </script>
  </body>

</html>